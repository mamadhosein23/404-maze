<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>404 - Page Not Found</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Baloo Bhaijaan 2', cursive;
      color: #fff;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(160deg, #000000, #0a0033, #1a004d);
    }

    .container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 30px;
      padding: 20px;
      max-width: 1200px;
      width: 100%;
      flex-wrap: wrap;
    }

    .content { flex: 1 1 400px; text-align: center; order: 1; }
    .game { flex: 0 0 auto; text-align: center; order: 2; }

    h1 {
      font-family: 'Press Start 2P', cursive;
      font-size: clamp(5rem, 12vw, 10rem);
      transform: scaleX(1.4);
      margin: 0;
      color: #e0e0e0;
      text-shadow: 0 0 8px #0ff, 0 0 15px #00aaff;
      animation: float404 6s infinite ease-in-out, glow404 4s infinite alternate;
    }

    .desktop-text {
      display: block;
      font-size: 1rem;
      margin-top: 15px;
      line-height: 1.8;
    }
    .mobile-text { display: none; }

    .refresh-btn {
      display: inline-block;
      margin: 18px auto;
      padding: 10px 20px;
      background: linear-gradient(135deg, #0066ff, #00e5ff);
      color: #001;
      font-weight: 700;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform .14s ease, box-shadow .14s ease;
    }
    .refresh-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px #0ff;
    }

    #scoreboard { margin: 10px 0; font-size: 0.9rem; color: #0ff; }

    canvas {
      width: 420px;
      height: 420px;
      border: 2px solid #003366;
      border-radius: 10px;
      display: block;
      margin: auto;
      background: transparent;
    }

    .controls { margin-top: 8px; display: flex; justify-content: center; gap: 5px; flex-wrap: wrap; }
    .btn {
      background: #003366;
      color: #fff;
      border: none;
      padding: 6px 14px;
      font-size: 1rem;
      border-radius: 4px;
      cursor: pointer;
    }

    /* Ù…ÙˆØ¯Ø§Ù„ ØªØ¨Ø±ÛŒÚ© */
    #winOverlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    #winBox {
      background: #111;
      border: 2px solid #0ff;
      border-radius: 12px;
      padding: 30px 40px;
      text-align: center;
      color: #0ff;
      font-size: 1.3rem;
      box-shadow: 0 0 20px #0ff;
      animation: pop 0.5s ease;
    }

    @keyframes float404 {
      0%   { transform: scaleX(1.4) rotateY(0deg) rotateX(0deg); }
      25%  { transform: scaleX(1.4) rotateY(8deg) rotateX(3deg); }
      50%  { transform: scaleX(1.4) rotateY(0deg) rotateX(0deg); }
      75%  { transform: scaleX(1.4) rotateY(-8deg) rotateX(-3deg); }
      100% { transform: scaleX(1.4) rotateY(0deg) rotateX(0deg); }
    }
    @keyframes glow404 {
      from { text-shadow: 0 0 6px #0ff; }
      to   { text-shadow: 0 0 12px #ff0; }
    }

    /* ğŸ“± Ø­Ø§Ù„Øª Ù…ÙˆØ¨Ø§ÛŒÙ„ = Ú©Ø§Ø±Øª */
    @media (max-width: 768px) {
      body { align-items: flex-start; }
      .container {
        flex-direction: column;
        gap: 15px;
        max-width: 450px;
        background: rgba(0, 0, 0, 0.7);
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 0 20px rgba(0,255,255,0.2);
        margin: 20px;
      }
      h1 { font-size: 3.5rem; transform: scaleX(1.2); }
      canvas { width: 250px; height: 250px; }
      .desktop-text { display: none; }
      .mobile-text { display: block; font-size: 1rem; line-height: 1.5; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="content">
      <h1 id="title404">404</h1>
      <p class="desktop-text">
        Ø³Ø§ÛŒØª Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù… <strong>ØªØ¹Ù…ÛŒØ±Ø§Øª Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…</strong> Ø§Ø³Øª.  
        ØªÛŒÙ… Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ <strong>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø±Ø¹ØªØŒ Ø§Ù…Ù†ÛŒØª Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ø³Ø§ÛŒØª</strong> Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯ ØªØ§ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ø±ÙˆØ§Ù†â€ŒØªØ± Ùˆ Ø¬Ø°Ø§Ø¨â€ŒØªØ± Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ ÙØ±Ø§Ù‡Ù… Ú©Ù†ÛŒÙ….  
        Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø¨Ø§ <strong>Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø¬Ø¯ÛŒØ¯ØŒ Ø®Ø¯Ù…Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡ Ùˆ Ø¸Ø§Ù‡Ø±ÛŒ Ù…Ø¯Ø±Ù†â€ŒØªØ±</strong> Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÛŒÙ….  
        Ø§Ø² ØµØ¨Ø± Ùˆ Ø´Ú©ÛŒØ¨Ø§ÛŒÛŒ Ø´Ù…Ø§ Ø³Ù¾Ø§Ø³Ú¯Ø²Ø§Ø±ÛŒÙ… â¤ï¸
      </p>
      <p class="mobile-text">
        Ø³Ø§ÛŒØª Ø¯Ø± Ø­Ø§Ù„ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø³Øª âœ¨ Ø¨Ù‡â€ŒØ²ÙˆØ¯ÛŒ Ø¨Ø§ Ù†Ø³Ø®Ù‡ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÛŒÙ… â¤ï¸
      </p>
      <button class="refresh-btn" onclick="resetAll()">ğŸ”„ Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡</button>
    </div>

    <div class="game">
      <div id="scoreboard">â± Ø²Ù…Ø§Ù†: 0 Ø«Ø§Ù†ÛŒÙ‡ | â­ Ø§Ù…ØªÛŒØ§Ø²: 0 | ğŸ† Ø±Ú©ÙˆØ±Ø¯: 0</div>
      <canvas id="maze" width="420" height="420"></canvas>
      <div class="controls">
        <button class="btn" onclick="movePlayer(0,-1)">â¬†ï¸</button>
      </div>
      <div class="controls">
        <button class="btn" onclick="movePlayer(-1,0)">â¬…ï¸</button>
        <button class="btn" onclick="movePlayer(0,1)">â¬‡ï¸</button>
        <button class="btn" onclick="movePlayer(1,0)">â¡ï¸</button>
      </div>
    </div>
  </div>

  <!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ¨Ø±ÛŒÚ© -->
  <div id="winOverlay">
    <div id="winBox">
      ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ù…Ø±Ø­Ù„Ù‡ Ø±Ùˆ Ø¨Ø±Ø¯ÛŒ ğŸ‰
      <div id="finalScore"></div>
      <button onclick="closeWin()">Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯</button>
    </div>
  </div>

  <script>
    const canvas = document.getElementById("maze");
    const ctx = canvas.getContext("2d");
    const rows = 25, cols = 25;
    const cellSize = canvas.width / cols;
    let maze, player, goal, startTime;
    let totalScore = 0;
    let highScore = Number(localStorage.getItem("highScore") || 0);

    function generateMaze() {
      maze = Array.from({length: rows}, () => Array(cols).fill(1));
      function carve(x,y) {
        const dirs=[[0,-2],[0,2],[-2,0],[2,0]].sort(()=>Math.random()-0.5);
        for (const [dx,dy] of dirs) {
          const nx=x+dx, ny=y+dy;
          if(nx>0 && ny>0 && nx<cols-1 && ny<rows-1 && maze[ny][nx]===1){
            maze[ny-dy/2][nx-dx/2]=0;
            maze[ny][nx]=0;
            carve(nx,ny);
          }
        }
      }
      maze[1][1]=0;
      carve(1,1);
      player={x:1,y:1};
      goal={x:cols-2,y:rows-2};
      startTime=Date.now();
    }

    function drawMaze() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.strokeStyle="#003366"; ctx.lineWidth=1;
      for(let y=0;y<rows;y++){
        for(let x=0;x<cols;x++){
          if(maze[y][x]===1){
            ctx.strokeRect(x*cellSize,y*cellSize,cellSize,cellSize);
          }
        }
      }
      ctx.fillStyle="lime";
      ctx.fillRect(goal.x*cellSize+4, goal.y*cellSize+4, cellSize-8, cellSize-8);
      ctx.beginPath();
      ctx.arc(player.x*cellSize+cellSize/2, player.y*cellSize+cellSize/2, cellSize/3,0,Math.PI*2);
      ctx.fillStyle="yellow"; ctx.fill();
    }

    function movePlayer(dx,dy){
      const nx=player.x+dx, ny=player.y+dy;
      if(maze[ny] && maze[ny][nx]===0){
        player.x=nx; player.y=ny; drawMaze(); checkWin();
      }
    }

    function checkWin(){
      if(player.x===goal.x && player.y===goal.y){
        const time=Math.floor((Date.now()-startTime)/1000);
        const roundScore=Math.max(100-(time*2),10);
        totalScore+=roundScore;
        if(totalScore>highScore){highScore=totalScore; localStorage.setItem("highScore",highScore);}
        document.getElementById("finalScore").innerHTML=`â± Ø²Ù…Ø§Ù†: ${time} Ø«Ø§Ù†ÛŒÙ‡<br>â­ Ø§Ù…ØªÛŒØ§Ø² Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡: ${roundScore}<br>âœ¨ Ø§Ù…ØªÛŒØ§Ø² Ú©Ù„: ${totalScore}<br>ğŸ† Ø±Ú©ÙˆØ±Ø¯: ${highScore}`;
        document.getElementById("winOverlay").style.display="flex";
      }
    }

    function closeWin(){
      document.getElementById("winOverlay").style.display="none";
      generateMaze(); drawMaze();
    }

    function resetAll(){
      totalScore=0;
      generateMaze(); drawMaze();
    }

    // Ú©Ù†ØªØ±Ù„ Ú©ÛŒØ¨ÙˆØ±Ø¯
    document.addEventListener("keydown", e=>{
      if(e.key==="ArrowUp") movePlayer(0,-1);
      if(e.key==="ArrowDown") movePlayer(0,1);
      if(e.key==="ArrowLeft") movePlayer(-1,0);
      if(e.key==="ArrowRight") movePlayer(1,0);
    });

    // Swipe Ù…ÙˆØ¨Ø§ÛŒÙ„
    let startX=0,startY=0;
    canvas.addEventListener("touchstart",e=>{
      startX=e.touches[0].clientX;
      startY=e.touches[0].clientY;
    },{passive:true});
    canvas.addEventListener("touchend",e=>{
      const dx=e.changedTouches[0].clientX-startX;
      const dy=e.changedTouches[0].clientY-startY;
      if(Math.abs(dx)>Math.abs(dy)){
        if(dx>30) movePlayer(1,0);
        else if(dx<-30) movePlayer(-1,0);
      } else {
        if(dy>30) movePlayer(0,1);
        else if(dy<-30) movePlayer(0,-1);
      }
    });

    // Scoreboard
    setInterval(()=>{
      const time=Math.floor((Date.now()-startTime)/1000);
      document.getElementById("scoreboard").innerText=`â± Ø²Ù…Ø§Ù†: ${time} Ø«Ø§Ù†ÛŒÙ‡ | â­ Ø§Ù…ØªÛŒØ§Ø² Ú©Ù„: ${totalScore} | ğŸ† Ø±Ú©ÙˆØ±Ø¯: ${highScore}`;
    },1000);

    // Ø­Ø±Ú©Øª 404 Ø¨Ø§ Ø³Ù†Ø³ÙˆØ± Ú¯ÙˆØ´ÛŒ
    const title404=document.getElementById("title404");
    if(window.DeviceOrientationEvent){
      window.addEventListener("deviceorientation",(ev)=>{
        const x=ev.gamma||0, y=ev.beta||0;
        title404.style.transform=`scaleX(1.4) rotateY(${x/6}deg) rotateX(${y/12}deg)`;
      });
    }

    // Ø´Ø±ÙˆØ¹
    generateMaze(); drawMaze();
  </script>
</body>
</html>
